■momonga起動します
roslaunch turtlebot3_momonga turtlebot3_momonga.launch

■テレオペレーション開始
roslaunch turtlebot3_momonga teleop.launch

■SLAMによる地図作成開始
roslaunch turtlebot3_momonga turtlebot3_slam_3d.launch

# my room
roslaunch turtlebot3_momonga turtlebot3_slam_3d.launch database_path:="~/.ros/myroom.db" rtabmap_args:="-d"
# add
roslaunch turtlebot3_momonga turtlebot3_slam_3d.launch database_path:="~/.ros/myroom.db"

roslaunch turtlebot3_momonga turtlebot3_slam_3d.launch database_path:="~/.ros/myroom_D435.db" rtabmap_args:="-d"

open map for navigation


■作成した地図を保存、グローバルなマップとして使います。saverとserverを間違えないように。
cd ~/catkin_ws/src/turtlebot3_momonga/map/
rosrun map_server map_saver map:=/rtabmap/proj_map -f global

# my room
rosrun map_server map_saver map:=/rtabmap/proj_map -f myroom_global


■地図を塗りつぶして侵入禁止区域を作ります
gimp

■グローバルMapを起動する(/global_map)
roscd turtlebot3_momonga/map
rosrun map_server map_server global.yaml /map:=/global_map

# my room
rosrun map_server map_server myroom_global.yaml /map:=/global_map


■Start Navigation
roslaunch turtlebot3_momonga turtlebot3_navigation.launch

# my room
roslaunch turtlebot3_momonga turtlebot3_navigation.launch database_path:="~/.ros/myroom.db" mapfile:="/home/turtle/catkin_ws/src/turtlebot3_momonga/map/myroom_global.yaml"



■Waypointを設定します。
rosrun turtlebot3_momonga waypoint_generator_node
rosrun turtlebot3_momonga waypoint_generator_node --load 2018-10-11-04-44-58.csv 

■resume再開する
rostopic pub -1 /resume_waypoint std_msgs/Empty

■waypointナビゲーション開始
rosrun turtlebot3_momonga waypoint_navigator_node _waypointsfile:=/home/hiroaki/2018-10-10-22-33-29.csv 

■Waypointファイルを配置する場所とファイル名
turtlebot3_momonga/waypoints/waypoints.csv





